{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Moaaz/Desktop/React/khanreact/m-app2/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Moaaz/Desktop/React/khanreact/m-app2/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Moaaz\\\\Desktop\\\\React\\\\khanreact\\\\m-app2\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component,useState,useEffect}from'react';import NewsItem from'./NewsItem';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var News=function News(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setarticles=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setpage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalResults=_useState6[0],settotalResults=_useState6[1];var Capitalize=function Capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);};var updateNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/top-headlines?category=\".concat(props.category,\"&country=\").concat(props.country,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pagesize=\").concat(props.pageSize);_context.next=3;return fetch(url);case 3:data=_context.sent;_context.next=6;return data.json();case 6:parsedData=_context.sent;console.log(parsedData);setarticles(parsedData.articles);settotalResults(parsedData.totalResults);case 10:case\"end\":return _context.stop();}}},_callee);}));return function updateNews(){return _ref.apply(this,arguments);};}();useEffect(function(){document.title=\"\".concat(Capitalize(props.category),\"-NewsMonkey\");updateNews();},[]);// Component did mount ke jagah isko use kar rhe hai\n// let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&pagesize=${props.pageSize}`;\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// console.log(parsedData);\n// setState({articles: parsedDataarticles, totalResults: parsedDatatotalResults})\nvar previous=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// console.log(\"Previous Button is clicked\");\n// let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&page=${page-1}&pagesize=${props.pageSize}`;\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// console.log(parsedData);\nsetpage(page+1);updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function previous(){return _ref2.apply(this,arguments);};}();var next=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// console.log(\"next Button is clicked\");\n// let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&page=${page+1}&pagesize=${props.pageSize}`;\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// console.log(parsedData);\nsetpage(page-1);updateNews();case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function next(){return _ref3.apply(this,arguments);};}();if(articles.length===0){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"Loading...\"})})})});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container my-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-2\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,ImageUrl:element.urlToImage,NewsUrl:element.url,author:element.source.name,date:element.publishedAt})},element.url);}),\";\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between my-3 mx-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:page<=1,onClick:previous,class:\"btn btn-dark\",children:\"\\u2190 Preview\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:page>=Math.ceil(totalResults/props.pageSize),onClick:next,class:\"btn btn-dark\",children:\"Next \\u2192\"})]})})]});}};News.defaultProps={country:'in',pageSize:10,category:'business'};export default News;","map":{"version":3,"sources":["C:/Users/Moaaz/Desktop/React/khanreact/m-app2/my-app/src/components/News.js"],"names":["React","Component","useState","useEffect","NewsItem","InfiniteScroll","News","props","articles","setarticles","page","setpage","totalResults","settotalResults","Capitalize","str","charAt","toUpperCase","slice","updateNews","url","category","country","apiKey","pageSize","fetch","data","json","parsedData","console","log","document","title","previous","next","length","map","element","description","urlToImage","source","name","publishedAt","Math","ceil","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component,useState,useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewsItem from './NewsItem'\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nconst News =(props)=> {\r\n    const [articles, setarticles] = useState([])\r\n    const [page, setpage] = useState(1)\r\n    const [totalResults, settotalResults] = useState(0)\r\n   const Capitalize=(str)=>{\r\n        return str.charAt(0).toUpperCase() + str.slice(1);\r\n    }\r\n    const updateNews= async()=>{\r\n        let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&page=${page}&pagesize=${props.pageSize}`;\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json();\r\n        console.log(parsedData);\r\n        setarticles(parsedData.articles)\r\n        settotalResults(parsedData.totalResults)\r\n    }\r\n    useEffect(() => {\r\n        document.title= `${Capitalize(props.category)}-NewsMonkey`;\r\n      updateNews();\r\n    }, [])\r\n       // Component did mount ke jagah isko use kar rhe hai\r\n        // let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&pagesize=${props.pageSize}`;\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // console.log(parsedData);\r\n        // setState({articles: parsedDataarticles, totalResults: parsedDatatotalResults})\r\n    \r\n   const previous= async ()=>{\r\n        // console.log(\"Previous Button is clicked\");\r\n        // let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&page=${page-1}&pagesize=${props.pageSize}`;\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // console.log(parsedData);\r\n        setpage(page+1);\r\n        updateNews();\r\n    }\r\n   const next= async ()=>{\r\n        \r\n        // console.log(\"next Button is clicked\");\r\n        // let url = `https://newsapi.org/v2/top-headlines?category=${props.category}&country=${props.country}&apiKey=${props.apiKey}&page=${page+1}&pagesize=${props.pageSize}`;\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // console.log(parsedData);\r\n        setpage(page-1);\r\n        updateNews();\r\n    }\r\n   \r\n    \r\n        if(articles.length===0){\r\n            return(\r\n            <>\r\n            <div class=\"text-center\">\r\n  <div class=\"spinner-border\" role=\"status\">\r\n    <span class=\"sr-only\">Loading...</span>\r\n  </div>\r\n</div>\r\n</>\r\n);\r\n\r\n }\r\n\r\nelse{\r\n    return(\r\n        <>\r\n        \r\n        <div className=\"container my-3\">\r\n            <div className=\"row\">\r\n            {articles.map((element)=>{ \r\n                return( \r\n                    <div className=\"col-md-4 my-2\" key={element.url}>\r\n        <NewsItem title={element.title} description={element.description} ImageUrl={element.urlToImage} NewsUrl={element.url} author={element.source.name} date={element.publishedAt}/>\r\n            </div>\r\n                )\r\n            })};\r\n            </div>\r\n          \r\n        </div>\r\n           \r\n        <div>\r\n          <div className=\"container d-flex justify-content-between my-3 mx-2\">\r\n        <button type=\"button\" disabled={page<=1} onClick={previous} class=\"btn btn-dark\">&larr; Preview</button>\r\n        <button type=\"button\" disabled={page >= Math.ceil(totalResults/props.pageSize)} onClick={next} class=\"btn btn-dark\">Next &rarr;</button>\r\n        </div>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nNews.defaultProps ={\r\n    country: 'in',\r\n    pageSize: 10,\r\n    category: 'business'\r\n  }\r\nNews.propTypes ={\r\n    country:PropTypes.string,\r\n    pageSize: PropTypes.number,\r\n    category: PropTypes.string\r\n  }\r\nexport default News"]},"metadata":{},"sourceType":"module"}